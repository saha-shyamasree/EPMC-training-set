Clinical	O
prediction	O
in	O
defined	O
populations	O
:	O
a	O
simulation	O
study	O
investigating	O
when	O
and	O
how	O
to	O
aggregate	O
existing	O
models	O

Background	O

Clinical	O
prediction	O
models	O
(	O
CPMs	O
)	O
are	O
increasingly	O
deployed	O
to	O
support	O
healthcare	O
decisions	O
but	O
they	O
are	O
derived	O
inconsistently	O
,	O
in	O
part	O
due	O
to	O
limited	O
data	O
.	O

An	O
emerging	O
alternative	O
is	O
to	O
aggregate	O
existing	O
CPMs	O
developed	O
for	O
similar	O
settings	O
and	O
outcomes	O
.	O

This	O
simulation	O
study	O
aimed	O
to	O
investigate	O
the	O
impact	O
of	O
between	O
-	O
population	O
-	O
heterogeneity	O
and	O
sample	O
size	O
on	O
aggregating	O
existing	O
CPMs	O
in	O
a	O
defined	O
population	O
,	O
compared	O
with	O
developing	O
a	O
model	O
de	O
novo	O
.	O

Methods	O

Simulations	O
were	O
designed	O
to	O
mimic	O
a	O
scenario	O
in	O
which	O
multiple	O
CPMs	O
for	O
a	O
binary	O
outcome	O
had	O
been	O
derived	O
in	O
distinct	O
,	O
heterogeneous	O
populations	O
,	O
with	O
potentially	O
different	O
predictors	O
available	O
in	O
each	O
.	O

We	O
then	O
generated	O
a	O
new	O
‘	O
local	O
’	O
population	O
and	O
compared	O
the	O
performance	O
of	O
CPMs	O
developed	O
for	O
this	O
population	O
by	O
aggregation	O
,	O
using	O
stacked	O
regression	O
,	O
principal	O
component	O
analysis	O
or	O
partial	O
least	O
squares	O
,	O
with	O
redevelopment	O
from	O
scratch	O
using	O
backwards	O
selection	O
and	O
penalised	O
regression	O
.	O

Results	O

While	O
redevelopment	O
approaches	O
resulted	O
in	O
models	O
that	O
were	O
miscalibrated	O
for	O
local	O
datasets	O
of	O
less	O
than	O
500	O
observations	O
,	O
model	O
aggregation	O
methods	O
were	O
well	O
calibrated	O
across	O
all	O
simulation	O
scenarios	O
.	O

When	O
the	O
size	O
of	O
local	O
data	O
was	O
less	O
than	O
1000	O
observations	O
and	O
between	O
-	O
population	O
-	O
heterogeneity	O
was	O
small	O
,	O
aggregating	O
existing	O
CPMs	O
gave	O
better	O
discrimination	O
and	O
had	O
the	O
lowest	O
mean	O
square	O
error	O
in	O
the	O
predicted	O
risks	O
compared	O
with	O
deriving	O
a	O
new	O
model	O
.	O

Conversely	O
,	O
given	O
greater	O
than	O
1000	O
observations	O
and	O
significant	O
between	O
-	O
population	O
-	O
heterogeneity	O
,	O
then	O
redevelopment	O
outperformed	O
the	O
aggregation	O
approaches	O
.	O

In	O
all	O
other	O
scenarios	O
,	O
both	O
aggregation	O
and	O
de	O
novo	O
derivation	O
resulted	O
in	O
similar	O
predictive	O
performance	O
.	O

Conclusion	O

This	O
study	O
demonstrates	O
a	O
pragmatic	O
approach	O
to	O
contextualising	O
CPMs	O
to	O
defined	O
populations	O
.	O

When	O
aiming	O
to	O
develop	O
models	O
in	O
defined	O
populations	O
,	O
modellers	O
should	O
consider	O
existing	O
CPMs	O
,	O
with	O
aggregation	O
approaches	O
being	O
a	O
suitable	O
modelling	O
strategy	O
particularly	O
with	O
sparse	O
data	O
on	O
the	O
local	O
population	O
.	O

Electronic	O
supplementary	O
material	O

The	O
online	O
version	O
of	O
this	O
article	O
(	O
doi	O
:	O
10	O
.	O
1186	O
/	O
s12874	O
-	O
016	O
-	O
0277	O
-	O
1	O
)	O
contains	O
supplementary	O
material	O
,	O
which	O
is	O
available	O
to	O
authorized	O
users	O
.	O

Background	O

Clinical	O
prediction	O
models	O
(	O
CPMs	O
),	O
which	O
compute	O
the	O
risk	O
of	O
an	O
outcome	O
for	O
a	O
given	O
set	O
of	O
patient	O
characteristics	O
,	O
are	O
fundamental	O
to	O
clinical	O
decision	O
support	O
systems	O
.	O

For	O
instance	O
,	O
practical	O
uses	O
of	O
CPMs	O
include	O
facilitating	O
discussions	O
about	O
the	O
risks	O
associated	O
with	O
a	O
proposed	O
treatment	O
strategy	O
,	O
assisting	O
audit	O
analyses	O
and	O
benchmarking	O
post	O
-	O
procedural	O
outcomes	O
.	O

Consequently	O
,	O
there	O
is	O
growing	O
interest	O
in	O
developing	O
CPMs	O
to	O
support	O
local	O
healthcare	O
decisions	O
[	O
1	O
,	O
2	O
].	O

Although	O
there	O
might	O
be	O
existing	O
models	O
derived	O
for	O
similar	O
outcomes	O
and	O
populations	O
,	O
it	O
is	O
vital	O
they	O
are	O
appropriately	O
updated	O
,	O
validated	O
and	O
transferred	O
between	O
different	O
contexts	O
of	O
use	O
.	O

Baseline	O
risk	O
and	O
predictor	O
effects	O
may	O
differ	O
across	O
populations	O
,	O
which	O
can	O
cause	O
model	O
performance	O
to	O
decrease	O
when	O
transferring	O
an	O
existing	O
CPM	O
to	O
the	O
local	O
population	O
[	O
3	O
–	O
6	O
].	O

This	O
between	O
-	O
population	O
-	O
heterogeneity	O
frequently	O
leads	O
to	O
researchers	O
rejecting	O
existing	O
models	O
and	O
developing	O
new	O
ones	O
[	O
5	O
,	O
7	O
–	O
10	O
].	O

However	O
,	O
this	O
framework	O
is	O
undesirable	O
because	O
the	O
dataset	O
used	O
to	O
derive	O
the	O
new	O
CPM	O
is	O
often	O
smaller	O
than	O
previous	O
derivation	O
datasets	O
and	O
can	O
lead	O
to	O
multiple	O
models	O
for	O
the	O
same	O
outcome	O
.	O

For	O
instance	O
,	O
over	O
60	O
previously	O
published	O
models	O
predict	O
breast	B-DS
cancer	I-DS
[	O
11	O
],	O
which	O
is	O
perplexing	O
and	O
unhelpful	O
to	O
end	O
-	O
users	O
.	O

As	O
a	O
motivating	O
example	O
,	O
consider	O
a	O
user	O
wishing	O
to	O
predict	O
short	O
-	O
term	O
mortality	O
post	O
cardiac	O
-	O
surgery	O
.	O

There	O
are	O
several	O
existing	O
CPMs	O
available	O
,	O
including	O
the	O
Logistic	O
EuroSCORE	O
(	O
LES	O
),	O
the	O
EuroSCORE	O
II	O
(	O
ESII	O
),	O
the	O
STS	O
score	O
and	O
the	O
German	O
Aortic	O
Valve	O
Model	O
(	O
German	O
AV	O
)	O
[	O
12	O
–	O
16	O
].	O

These	O
models	O
share	O
some	O
common	O
predictors	O
,	O
for	O
example	O
gender	O
,	O
arterial	B-DS
disease	I-DS
outside	O
the	O
heart	O
and	O
recent	O
heart	B-DS
attack	I-DS
,	O
but	O
some	O
predictors	O
appear	O
only	O
in	O
a	O
subset	O
of	O
the	O
CPMs	O
.	O

For	O
instance	O
,	O
diabetes	B-DS
is	O
only	O
incorporated	O
into	O
the	O
ESII	O
and	O
STS	O
models	O
,	O
while	O
atrial	B-DS
fibrillation	I-DS
is	O
only	O
in	O
the	O
STS	O
and	O
German	O
AV	O
models	O
.	O

Moreover	O
,	O
definitions	O
and	O
coding	O
of	O
some	O
predictors	O
could	O
differ	O
:	O
examples	O
include	O
left	O
ventricular	O
ejection	O
fraction	O
and	O
age	O
.	O

While	O
differences	O
in	O
variable	O
definitions	O
between	O
existing	O
CPMs	O
add	O
complexity	O
,	O
the	O
prior	O
information	O
encapsulated	O
by	O
each	O
model	O
can	O
be	O
exploited	O
.	O

A	O
generalizable	O
existing	O
CPM	O
could	O
serve	O
as	O
an	O
informative	O
prior	O
for	O
a	O
new	O
population	O
;	O
for	O
example	O
,	O
by	O
transferring	O
information	O
regarding	O
likely	O
covariate	O
-	O
outcome	O
relations	O
,	O
as	O
in	O
stacked	O
regression	O
[	O
9	O
,	O
17	O
].	O

However	O
,	O
there	O
has	O
been	O
limited	O
investigation	O
into	O
the	O
impact	O
of	O
sample	O
size	O
and	O
between	O
-	O
population	O
-	O
heterogeneity	O
on	O
the	O
performance	O
of	O
model	O
aggregation	O
versus	O
deriving	O
a	O
new	O
CPM	O
.	O

This	O
simulation	O
study	O
considers	O
a	O
situation	O
in	O
which	O
there	O
is	O
a	O
new	O
(	O
local	O
)	O
population	O
,	O
with	O
associated	O
data	O
,	O
and	O
interest	O
lies	O
in	O
developing	O
a	O
CPM	O
for	O
it	O
.	O

The	O
modeller	O
must	O
make	O
a	O
choice	O
between	O
utilising	O
existing	O
CPMs	O
that	O
have	O
been	O
developed	O
in	O
different	O
populations	O
,	O
developing	O
a	O
new	O
model	O
and	O
disregarding	O
existing	O
ones	O
,	O
or	O
some	O
mixture	O
of	O
the	O
two	O
[	O
18	O
].	O

We	O
hypothesised	O
that	O
the	O
modelling	O
strategy	O
that	O
optimised	O
performance	O
would	O
depend	O
on	O
:	O
1	O
)	O
the	O
degree	O
of	O
variation	O
in	O
risk	O
across	O
multiple	O
populations	O
(	O
between	O
-	O
population	O
-	O
heterogeneity	O
);	O
and	O
2	O
)	O
the	O
quantity	O
of	O
data	O
available	O
in	O
the	O
local	O
population	O
,	O
relative	O
to	O
the	O
size	O
of	O
previous	O
derivation	O
datasets	O
.	O

Methods	O

Throughout	O
this	O
study	O
,	O
all	O
CPMs	O
will	O
be	O
assumed	O
to	O
be	O
logistic	O
regression	O
models	O
,	O
although	O
the	O
techniques	O
apply	O
to	O
other	O
types	O
of	O
prediction	O
model	O
,	O
such	O
as	O
those	O
for	O
time	O
-	O
to	O
-	O
event	O
outcomes	O
.	O

Stacked	O
regression	O
(	O
SR	O
)	O
[	O
9	O
,	O
17	O
],	O
principal	O
component	O
analysis	O
(	O
PCA	O
)	O
[	O
19	O
,	O
20	O
]	O
and	O
partial	O
least	O
squares	O
(	O
PLS	O
)	O
are	O
three	O
possible	O
methods	O
that	O
simultaneously	O
aggregate	O
and	O
calibrate	O
existing	O
models	O
to	O
a	O
new	O
population	O
.	O

We	O
describe	O
SR	O
and	O
PCA	O
here	O
,	O
with	O
PLS	O
described	O
in	O
Additional	O
file	O
1	O
.	O

This	O
study	O
compares	O
the	O
three	O
aforementioned	O
aggregate	O
approaches	O
with	O
deriving	O
a	O
new	O
model	O
;	O
possible	O
techniques	O
of	O
redevelopment	O
are	O
also	O
outlined	O
in	O
this	O
section	O
.	O

Model	O
aggregation	O
:	O
stacked	O
regression	O

Consider	O
a	O
collection	O
of	O
M	O
existing	O
logistic	O
regression	O
CPMs	O
,	O
which	O
all	O
aim	O
to	O
predict	O
the	O
same	O
binary	O
outcome	O
but	O
were	O
derived	O
in	O
different	O
populations	O
,	O
j	O
=	O
1	O
,	O
…,	O
M	O
.	O

For	O
a	O
set	O
of	O
observations	O
i	O
=	O
1	O
,	O
…,	O
n	O
j	O
from	O
population	O
j	O
,	O
let	O
X	O
j	O
denote	O
the	O
n	O
j	O
×	O
P	O
matrix	O
of	O
predictors	O
that	O
are	O
potentially	O
associated	O
with	O
the	O
outcome	O
,	O
Y	O
j	O
.	O

Here	O
,	O
P	O
represents	O
the	O
number	O
of	O
predictors	O
available	O
across	O
all	O
populations	O
;	O
a	O
predictor	O
that	O
is	O
not	O
present	O
in	O
a	O
given	O
CPM	O
simply	O
has	O
coefficient	O
zero	O
.	O

Then	O
,	O
for	O
i	O
=	O
1	O
,	O
…,	O
n	O
j	O
,	O
the	O
linear	O
predictor	O
(	O
LP	O
)	O
from	O
the	O
j	O
th	O
existing	O
CPM	O
,	O
LPi	O
,	O
j	O
,	O
is	O
given	O
by	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
{\	O
mathrm	O
{	O
LP	O
}}	O
_	O
{	O
i	O
,	O
j	O
}	O
=	O
{\	O
beta	O
}	O
_	O
{	O
0	O
,	O
j	O
}+{\	O
displaystyle	O
\	O
sum_	O
{	O
p	O
=	O
1	O
}^	O
P	O
}{\	O
beta	O
}	O
_	O
{	O
p	O
,	O
j	O
}{	O
x	O
}	O
_	O
{	O
i	O
,	O
p	O
}	O
$$\	O
end	O
{	O
document	O
}	O
LPi	O
,	O
j	O
=	O
β0	O
,	O
j	O
+∑	O
p	O
=	O
1Pβp	O
,	O
jxi	O
,	O
p	O

with	O
intercept	O
β	O
0	O
,	O
j	O
and	O
coefficients	O
β	O
1	O
,	O
j	O
,	O
…,	O
β	O
P	O
,	O
j	O
,	O
at	O
least	O
one	O
of	O
which	O
is	O
non	O
-	O
zero	O
.	O

Suppose	O
we	O
then	O
have	O
a	O
new	O
local	O
population	O
,	O
j	O
=	O
M	O
+	O
1	O
.	O

Stacked	O
regression	O
aims	O
to	O
weight	O
the	O
M	O
linear	O
predictors	O
(	O
calculated	O
for	O
each	O
observation	O
in	O
the	O
new	O
local	O
population	O
)	O
to	O
maximise	O
the	O
logistic	O
regression	O
likelihood	O
.	O

Specifically	O
,	O
SR	O
assumes	O
that	O
for	O
i	O
=	O
1	O
,	O
…,	O
n	O
M	O
+	O
1	O
,	O
Y	O
i	O
,	O
M	O
+	O
1	O
∼	O
Bernoulli	O
(	O
πi	O
,	O
M	O
+	O
1	O
)	O
where	O
π	O
i	O
,	O
M	O
+	O
1	O
=	O
P	O
(	O
Y	O
i	O
,	O
M	O
+	O
1	O
=	O
1	O
)	O
with	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
\	O
log	O
\	O
left	O
(\	O
frac	O
{\	O
pi_	O
{	O
i	O
,	O
M	O
+	O
1	O
}}{	O
1	O
-{\	O
pi	O
}	O
_	O
{	O
i	O
,	O
M	O
+	O
1	O
}}\	O
right	O
)={\	O
widehat	O
{\	O
gamma	O
}}	O
_0	O
+{\	O
displaystyle	O
\	O
sum_	O
{	O
j	O
=	O
1	O
}^	O
M	O
}{\	O
widehat	O
{\	O
gamma	O
}}	O
_j	O
{\	O
mathrm	O
{	O
LP	O
}}	O
_	O
{	O
i	O
,	O
j	O
}	O
$$\	O
end	O
{	O
document	O
}	O
logπi	O
,	O
M	O
+	O
11	O
−	O
πi	O
,	O
M	O
+	O
1	O
=	O
γ	O
^	O
0	O
+∑	O
j	O
=	O
1Mγ	O
^	O
jLPi	O
,	O
j	O

under	O
the	O
constraint	O
that	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
{\	O
widehat	O
{\	O
gamma	O
}}	O
_1	O
,\	O
dots	O
,\	O
{\	O
widehat	O
{\	O
gamma	O
}}	O
_M	O
\	O
ge	O
0	O
$$\	O
end	O
{	O
document	O
}	O
γ	O
^	O
1	O
,…,	O
γ	O
^	O
M	O
≥	O
0	O
to	O
account	O
for	O
collinearity	O
between	O
the	O
existing	O
CPMs	O
.	O

Here	O
,	O
LPi	O
,	O
j	O
denotes	O
the	O
linear	O
predictor	O
from	O
the	O
j	O
th	O
existing	O
CPM	O
calculated	O
for	O
observation	O
i	O
∈	O
[	O
1	O
,	O
n	O
M	O
+	O
1	O
]	O
in	O
the	O
new	O
local	O
population	O
.	O

Thus	O
,	O
we	O
have	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
\	O
log	O
\	O
left	O
(\	O
frac	O
{\	O
pi_	O
{	O
i	O
,	O
M	O
+	O
1	O
}}{	O
1	O
-{\	O
pi	O
}	O
_	O
{	O
i	O
,	O
M	O
+	O
1	O
}}\	O
right	O
)	O
=	O
{\	O
widehat	O
{\	O
gamma	O
}}	O
_0	O
+{\	O
displaystyle	O
\	O
sum_	O
{	O
j	O
=	O
1	O
}^	O
M	O
}{\	O
widehat	O
{\	O
gamma	O
}}	O
_j	O
{\	O
beta	O
}	O
_	O
{	O
0	O
,	O
j	O
}	O
+	O
{\	O
displaystyle	O
\	O
sum_	O
{	O
p	O
=	O
1	O
}^	O
P	O
}{\	O
displaystyle	O
\	O
sum_	O
{	O
j	O
=	O
1	O
}^	O
M	O
}{\	O
widehat	O
{\	O
gamma	O
}}	O
_j	O
{\	O
beta	O
}	O
_	O
{	O
p	O
,	O
j	O
}{	O
x	O
}	O
_	O
{	O
i	O
,	O
p	O
},	O
$$\	O
end	O
{	O
document	O
}	O
logπi	O
,	O
M	O
+	O
11	O
−	O
πi	O
,	O
M	O
+	O
1	O
=	O
γ	O
^	O
0	O
+∑	O
j	O
=	O
1Mγ	O
^	O
jβ0	O
,	O
j	O
+∑	O
p	O
=	O
1P	O
∑	O
j	O
=	O
1Mγ	O
^	O
jβp	O
,	O
jxi	O
,	O
p	O
,	O

which	O
can	O
be	O
used	O
to	O
calculate	O
subsequent	O
risk	O
predictions	O
for	O
a	O
new	O
observation	O
.	O

The	O
hat	O
accent	O
above	O
parameters	O
indicates	O
those	O
that	O
are	O
estimated	O
from	O
the	O
local	O
population	O
data	O
.	O

Specifically	O
,	O
SR	O
estimates	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
{\	O
widehat	O
{\	O
gamma	O
}}	O
_j	O
$$\	O
end	O
{	O
document	O
}	O
γ	O
^	O
j	O
but	O
not	O
β	O
p	O
,	O
j	O
,	O
which	O
are	O
taken	O
as	O
fixed	O
values	O
from	O
the	O
published	O
existing	O
CPM	O
.	O

Model	O
aggregation	O
:	O
Principal	O
Components	O
Analysis	O
(	O
PCA	O
)	O
regression	O

Let	O
LP	O
denote	O
the	O
n	O
M	O
+	O
1	O
×	O
M	O
matrix	O
,	O
with	O
(	O
i	O
,	O
j	O
)	O
th	O
element	O
being	O
the	O
linear	O
predictor	O
for	O
the	O
j	O
th	O
existing	O
CPM	O
calculated	O
for	O
observations	O
i	O
=	O
1	O
,	O
…,	O
n	O
M	O
+	O
1	O
in	O
the	O
local	O
population	O
.	O

The	O
singular	O
value	O
decomposition	O
of	O
LP	O
gives	O
an	O
M	O
×	O
M	O
rotation	O
matrix	O
,	O
ν	O
.	O

Multiplying	O
LP	O
by	O
ν	O
,	O
gives	O
the	O
n	O
M	O
+	O
1	O
×	O
M	O
matrix	O
of	O
principal	O
components	O
,	O
Z	O
.	O

PCA	O
regression	O
again	O
assumes	O
that	O
Y	O
i	O
,	O
M	O
+	O
1	O
∼	O
Bernoulli	O
(	O
π	O
i	O
,	O
M	O
+	O
1	O
)	O
for	O
i	O
=	O
1	O
,	O
…,	O
n	O
M	O
+	O
1	O
with	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
\	O
log	O
\	O
left	O
(\	O
frac	O
{\	O
pi_	O
{	O
i	O
,	O
M	O
+	O
1	O
}}{	O
1	O
-{\	O
pi	O
}	O
_	O
{	O
i	O
,	O
M	O
+	O
1	O
}}\	O
right	O
)={\	O
widehat	O
{\	O
theta	O
}}	O
_0	O
+{\	O
displaystyle	O
\	O
sum_	O
{	O
j	O
=	O
1	O
}^	O
M	O
}{\	O
widehat	O
{\	O
theta	O
}}	O
_j	O
{	O
Z	O
}	O
_	O
{	O
i	O
,	O
j	O
}.	O
$$\	O
end	O
{	O
document	O
}	O
logπi	O
,	O
M	O
+	O
11	O
−	O
πi	O
,	O
M	O
+	O
1	O
=	O
θ	O
^	O
0	O
+∑	O
j	O
=	O
1Mθ	O
^	O
jZi	O
,	O
j	O
.	O

Unlike	O
in	O
SR	O
,	O
no	O
restrictions	O
are	O
placed	O
on	O
the	O
parameters	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
{\	O
widehat	O
{\	O
theta	O
}}	O
_j	O
$$\	O
end	O
{	O
document	O
}	O
θ	O
^	O
j	O
since	O
,	O
by	O
definition	O
,	O
the	O
principal	O
components	O
,	O
Z	O
,	O
are	O
uncorrelated	O
.	O

One	O
can	O
obtain	O
predictions	O
for	O
a	O
future	O
observation	O
by	O
converting	O
the	O
above	O
aggregate	O
model	O
onto	O
the	O
scale	O
of	O
the	O
original	O
risk	O
factors	O
,\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
\	O
log	O
\	O
left	O
(\	O
frac	O
{\	O
pi_	O
{	O
i	O
,	O
M	O
+	O
1	O
}}{	O
1	O
-{\	O
pi	O
}	O
_	O
{	O
i	O
,	O
M	O
+	O
1	O
}}\	O
right	O
)={\	O
widehat	O
{\	O
theta	O
}}	O
_0	O
+{\	O
displaystyle	O
\	O
sum_	O
{	O
j	O
=	O
1	O
}^	O
M	O
}{\	O
widehat	O
{\	O
theta	O
}}	O
_j	O
\	O
left	O
(	O
L	O
{	O
P	O
}	O
_	O
{	O
i	O
,	O
1	O
}{	O
v	O
}	O
_	O
{	O
1	O
,	O
j	O
}+\	O
dots	O
+	O
L	O
{	O
P	O
}	O
_	O
{	O
i	O
,	O
M	O
}{	O
v	O
}	O
_	O
{	O
M	O
,	O
j	O
}\	O
right	O
)={\	O
widehat	O
{\	O
theta	O
}}	O
_0	O
+{\	O
displaystyle	O
\	O
sum_	O
{	O
j	O
=	O
1	O
}^	O
M	O
}{\	O
displaystyle	O
\	O
sum_	O
{	O
r	O
=	O
1	O
}^	O
M	O
}{\	O
widehat	O
{\	O
theta	O
}}	O
_j	O
{	O
v	O
}	O
_	O
{	O
r	O
,	O
j	O
}	O
L	O
{	O
P	O
}	O
_	O
{	O
i	O
,	O
r	O
}.	O
$$\	O
end	O
{	O
document	O
}	O
logπi	O
,	O
M	O
+	O
11	O
−	O
πi	O
,	O
M	O
+	O
1	O
=	O
θ	O
^	O
0	O
+∑	O
j	O
=	O
1Mθ	O
^	O
jLPi	O
,	O
1v1	O
,	O
j	O
+…+	O
LPi	O
,	O
MvM	O
,	O
j	O
=	O
θ	O
^	O
0	O
+∑	O
j	O
=	O
1M	O
∑	O
r	O
=	O
1Mθ	O
^	O
jvr	O
,	O
jLPi	O
,	O
r	O
.	O

Model	O
redevelopment	O

Let	O
X	O
M	O
+	O
1	O
denote	O
the	O
n	O
M	O
+	O
1	O
×	O
P	O
matrix	O
of	O
predictors	O
in	O
the	O
local	O
population	O
with	O
associated	O
binary	O
outcomes	O
Y	O
M	O
+	O
1	O
.	O

Then	O
the	O
redevelopment	O
approaches	O
aim	O
to	O
derive	O
a	O
new	O
CPM	O
of	O
the	O
form	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
\	O
log	O
\	O
left	O
(\	O
frac	O
{\	O
pi_	O
{	O
i	O
,	O
M	O
+	O
1	O
}}{	O
1	O
-{\	O
pi	O
}	O
_	O
{	O
i	O
,	O
M	O
+	O
1	O
}}\	O
right	O
)	O
=	O
{\	O
widehat	O
{\	O
beta	O
}}	O
_	O
{	O
0	O
,	O
M	O
+	O
1	O
}+{\	O
displaystyle	O
\	O
sum_	O
{	O
p	O
=	O
1	O
}^	O
P	O
}{\	O
widehat	O
{\	O
beta	O
}}	O
_	O
{	O
p	O
,	O
M	O
+	O
1	O
}{	O
x	O
}	O
_	O
{	O
i	O
,	O
p	O
}	O
$$\	O
end	O
{	O
document	O
}	O
logπi	O
,	O
M	O
+	O
11	O
−	O
πi	O
,	O
M	O
+	O
1	O
=	O
β	O
^	O
0	O
,	O
M	O
+	O
1	O
+∑	O
p	O
=	O
1Pβ	O
^	O
p	O
,	O
M	O
+	O
1xi	O
,	O
p	O

for	O
i	O
=	O
1	O
,	O
…,	O
n	O
M	O
+	O
1	O
,	O
model	O
intercept	O
,	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
{\	O
widehat	O
{\	O
beta	O
}}	O
_	O
{	O
0	O
,	O
M	O
+	O
1	O
}	O
$$\	O
end	O
{	O
document	O
}	O
β	O
^	O
0	O
,	O
M	O
+	O
1	O
,	O
and	O
coefficients	O
,	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
{\	O
widehat	O
{\	O
beta	O
}}	O
_	O
{	O
p	O
,	O
M	O
+	O
1	O
}	O
$$\	O
end	O
{	O
document	O
}	O
β	O
^	O
p	O
,	O
M	O
+	O
1	O
,	O
thereby	O
disregarding	O
the	O
existing	O
CPMs	O
.	O

In	O
this	O
study	O
,	O
two	O
strategies	O
of	O
redevelopment	O
were	O
considered	O
;	O
namely	O
,	O
backwards	O
selection	O
using	O
Akaike	O
Information	O
Criterion	O
(	O
AIC	O
)	O
and	O
penalised	O
maximum	O
likelihood	O
estimation	O
(	O
ridge	O
regression	O
).	O

The	O
AIC	O
of	O
a	O
model	O
is	O
defined	O
as	O
2k	O
−	O
2	O
log	O
(	O
L	O
),	O
where	O
k	O
is	O
the	O
number	O
of	O
estimated	O
parameters	O
and	O
L	O
is	O
the	O
maximum	O
likelihood	O
value	O
.	O

Backwards	O
selection	O
under	O
AIC	O
proceeds	O
by	O
starting	O
with	O
the	O
full	O
model	O
(	O
i	O
.	O
e	O
.	O
all	O
available	O
predictors	O
)	O
and	O
iteratively	O
removing	O
predictors	O
until	O
the	O
model	O
that	O
minimises	O
the	O
AIC	O
is	O
obtained	O
.	O

Conversely	O
,	O
ridge	O
regression	O
estimates	O
the	O
coefficients	O
from	O
the	O
full	O
model	O
by	O
maximising	O
the	O
following	O
penalised	O
log	O
-	O
likelihood	O
function	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
{	O
l	O
}^{*}\	O
left	O
({\	O
widehat	O
{\	O
beta	O
}}	O
_	O
{	O
M	O
+	O
1	O
}\	O
right	O
)=\	O
left	O
({\	O
displaystyle	O
\	O
sum_	O
{	O
i	O
=	O
1	O
}^{	O
n_	O
{	O
M	O
+	O
1	O
}}}\	O
left	O
\{{	O
y	O
}	O
_i	O
\	O
log	O
\	O
left	O
({\	O
pi	O
}	O
_	O
{	O
i	O
,	O
M	O
+	O
1	O
}\	O
right	O
)+\	O
left	O
(	O
1	O
-{	O
y	O
}	O
_i	O
\	O
right	O
)	O
\	O
log	O
\	O
left	O
(	O
1	O
-{\	O
pi	O
}	O
_	O
{	O
i	O
,	O
M	O
+	O
1	O
}\	O
right	O
)\	O
right	O
\}\	O
right	O
)-\	O
lambda	O
\	O
left	O
({\	O
displaystyle	O
\	O
sum_	O
{	O
p	O
=	O
1	O
}^	O
P	O
}{\	O
left	O
({\	O
widehat	O
{\	O
beta	O
}}	O
_	O
{	O
p	O
,	O
M	O
+	O
1	O
}\	O
right	O
)}^	O
2	O
\	O
right	O
).	O
$$\	O
end	O
{	O
document	O
}	O
l	O
*	O
β	O
^	O
M	O
+	O
1	O
=∑	O
i	O
=	O
1nM	O
+	O
1yilogπi	O
,	O
M	O
+	O
1	O
+	O
1	O
−	O
yilog1	O
−	O
πi	O
,	O
M	O
+	O
1	O
−	O
λ	O
∑	O
p	O
=	O
1Pβ	O
^	O
p	O
,	O
M	O
+	O
12	O
.	O

Thus	O
,	O
the	O
penalty	O
shrinks	O
the	O
model	O
coefficients	O
towards	O
zero	O
,	O
with	O
λ	O
controlling	O
the	O
degree	O
of	O
penalisation	O
;	O
cross	O
-	O
validation	O
was	O
used	O
to	O
select	O
λ	O
that	O
minimised	O
the	O
deviance	O
function	O
.	O

Simulation	O
design	O
:	O
general	O
overview	O

Figure	O
1	O
visualises	O
the	O
simulation	O
design	O
.	O

The	O
simulation	O
procedure	O
generated	O
both	O
Normally	O
distributed	O
continuous	O
predictors	O
and	O
Bernoulli	O
distributed	O
binary	O
predictors	O
,	O
each	O
within	O
clusters	O
of	O
serially	O
correlated	O
variables	O
to	O
represent	O
multiple	O
risk	O
factors	O
that	O
measure	O
similar	O
patient	O
characteristics	O
.	O

Such	O
data	O
were	O
row	O
partitioned	O
into	O
M	O
=	O
5	O
distinct	O
subsets	O
of	O
size	O
n	O
exist	O
=	O
5000	O
representing	O
five	O
“	O
existing	O
populations	O
”,	O
and	O
one	O
subset	O
of	O
size	O
n	O
local	O
representing	O
the	O
“	O
local	O
population	O
”.	O

The	O
M	O
=	O
5	O
existing	O
populations	O
were	O
each	O
used	O
to	O
fit	O
an	O
existing	O
logistic	O
regression	O
CPMs	O
representing	O
those	O
available	O
from	O
the	O
literature	O
,	O
with	O
each	O
CPM	O
including	O
a	O
potentially	O
overlapping	O
subset	O
of	O
risk	O
predictors	O
(	O
see	O
Additional	O
file	O
1	O
:	O
Table	O
S1	O
for	O
details	O
of	O
predictor	O
selection	O
for	O
the	O
existing	O
CPMs	O
).	O

The	O
single	O
local	O
population	O
was	O
randomly	O
split	O
into	O
a	O
training	O
and	O
validation	O
set	O
,	O
of	O
sizes	O
n	O
train	O
and	O
n	O
validate	O
,	O
respectively	O
(	O
i	O
.	O
e	O
.	O
n	O
local	O
=	O
n	O
train	O
+	O
n	O
validate	O
).	O

The	O
training	O
set	O
was	O
used	O
for	O
model	O
aggregation	O
using	O
SR	O
,	O
PCA	O
and	O
PLS	O
in	O
addition	O
to	O
redevelopment	O
using	O
AIC	O
and	O
ridge	O
regression	O
.	O

Datasets	O
frequently	O
only	O
collect	O
a	O
subset	O
of	O
the	O
potential	O
risk	O
factors	O
;	O
to	O
recognise	O
this	O
,	O
exactly	O
those	O
predictors	O
that	O
were	O
included	O
in	O
any	O
of	O
the	O
five	O
existing	O
CPMs	O
were	O
considered	O
candidates	O
during	O
redevelopment	O
.	O

Between	O
simulations	O
n	O
train	O
was	O
varied	O
through	O
(	O
150	O
,	O
250	O
,	O
500	O
,	O
1000	O
,	O
5000	O
,	O
10000	O
);	O
the	O
validation	O
set	O
was	O
reserved	O
only	O
to	O
validate	O
the	O
models	O
with	O
n	O
validate	O
fixed	O
at	O
5000	O
observations	O
.	O

Whilst	O
it	O
is	O
unlikely	O
that	O
local	O
populations	O
would	O
have	O
access	O
to	O
such	O
a	O
large	O
validation	O
set	O
,	O
this	O
was	O
selected	O
here	O
to	O
give	O
sufficient	O
event	O
numbers	O
for	O
an	O
accurate	O
assessment	O
of	O
model	O
performance	O
[	O
21	O
–	O
23	O
].	O

Additionally	O
,	O
although	O
bootstrapping	O
methods	O
are	O
preferable	O
to	O
assess	O
model	O
performance	O
in	O
real	O
-	O
world	O
datasets	O
,	O
the	O
split	O
-	O
sample	O
method	O
was	O
employed	O
here	O
for	O
simplicity	O
and	O
clear	O
illustration	O
of	O
the	O
methods	O
[	O
24	O
].	O
Fig	O
.	O
1Simulation	O
Procedure	O
:	O
A	O
pictorial	O
representation	O
of	O
the	O
simulation	O
procedure	O
for	O
a	O
given	O
value	O
of	O
population	O
heterogeneity	O
,	O
σ	O
,	O
and	O
a	O
given	O
development	O
sample	O
size	O
,	O
n	O
train	O
.	O

This	O
process	O
was	O
then	O
repeated	O
across	O
all	O
combinations	O
of	O
σ	O
and	O
n	O
train	O

Binary	O
responses	O
were	O
simulated	O
in	O
all	O
populations	O
with	O
probability	O
calculated	O
from	O
a	O
population	O
-	O
specific	O
generating	O
logistic	O
regression	O
model	O
,	O
which	O
included	O
a	O
subset	O
of	O
the	O
simulated	O
risk	O
predictors	O
.	O

The	O
coefficients	O
of	O
each	O
population	O
-	O
specific	O
generating	O
model	O
were	O
sampled	O
from	O
a	O
normal	O
distribution	O
,	O
with	O
a	O
common	O
mean	O
across	O
populations	O
and	O
variance	O
σ	O
.	O

Here	O
,	O
higher	O
values	O
of	O
σ	O
induced	O
greater	O
differences	O
in	O
predictor	O
effects	O
across	O
populations	O
and	O
thus	O
represented	O
increasing	O
between	O
-	O
population	O
-	O
heterogeneity	O
.	O

For	O
each	O
of	O
the	O
aforementioned	O
values	O
of	O
n	O
train	O
,	O
simulations	O
were	O
run	O
with	O
σ	O
values	O
of	O
(	O
0	O
,	O
0	O
.	O
125	O
,	O
0	O
.	O
25	O
,	O
0	O
.	O
375	O
,	O
0	O
.	O
5	O
,	O
0	O
.	O
75	O
,	O
1	O
).	O

Across	O
every	O
combination	O
of	O
σ	O
and	O
n	O
train	O
,	O
the	O
simulation	O
was	O
repeated	O
over	O
1000	O
iterations	O
as	O
a	O
compromise	O
between	O
estimator	O
accuracy	O
and	O
computational	O
time	O
.	O

The	O
simulations	O
were	O
implemented	O
using	O
R	O
version	O
3	O
.	O
2	O
.	O
5	O
[	O
25	O
].	O

The	O
following	O
packages	O
were	O
used	O
in	O
the	O
simulation	O
:	O
“	O
pROC	O
”	O
[	O
26	O
]	O
to	O
calculate	O
the	O
AUC	O
of	O
each	O
model	O
,	O
“	O
plsRglm	O
”	O
[	O
27	O
]	O
to	O
fit	O
the	O
PLS	O
models	O
and	O
the	O
“	O
cv	O
.	O
glmnet	O
”	O
function	O
within	O
the	O
“	O
glmnet	O
”	O
package	O
for	O
deriving	O
a	O
new	O
model	O
by	O
cross	O
-	O
validated	O
ridge	O
regression	O
[	O
28	O
].	O

The	O
authors	O
wrote	O
all	O
other	O
code	O
,	O
which	O
is	O
available	O
in	O
Additional	O
file	O
1	O
.	O

Simulation	O
design	O
:	O
data	O
-	O
generating	O
mechanisms	O

In	O
practice	O
,	O
modellers	O
could	O
define	O
any	O
one	O
risk	O
factor	O
through	O
different	O
but	O
potentially	O
related	O
variables	O
and	O
multiple	O
risk	O
factors	O
within	O
a	O
model	O
could	O
be	O
correlated	O
.	O

Hence	O
,	O
the	O
simulation	O
procedure	O
generated	O
risk	O
predictors	O
within	O
clusters	O
of	O
serially	O
correlated	O
variables	O
.	O

Specifically	O
,	O
P	O
=	O
50	O
predictors	O
were	O
generated	O
within	O
10	O
clusters	O
,	O
so	O
that	O
each	O
cluster	O
included	O
K	O
=	O
5	O
predictors	O
.	O

Predictors	O
had	O
serial	O
correlation	O
within	O
each	O
cluster	O
but	O
were	O
independent	O
between	O
clusters	O
.	O

To	O
represent	O
common	O
real	O
data	O
structures	O
,	O
the	O
simulation	O
generated	O
clusters	O
of	O
binary	O
and	O
continuous	O
predictors	O
in	O
an	O
approximately	O
50	O
/	O
50	O
split	O
,	O
with	O
the	O
‘	O
type	O
’	O
of	O
each	O
cluster	O
decided	O
at	O
random	O
before	O
each	O
simulation	O
.	O

For	O
simplicity	O
,	O
clusters	O
did	O
not	O
‘	O
mix	O
’	O
binary	O
and	O
continuous	O
variables	O
.	O

If	O
X	O
N	O
×	O
P	O
denotes	O
the	O
N	O
×	O
P	O
matrix	O
of	O
predictors	O
(	O
where	O
N	O
is	O
the	O
cumulative	O
sample	O
size	O
across	O
all	O
populations	O
)	O
and	O
ρ	O
denotes	O
the	O
within	O
-	O
cluster	O
correlation	O
,	O
then	O
the	O
process	O
to	O
generate	O
the	O
predictors	O
was	O
adapted	O
from	O
previous	O
studies	O
[	O
29	O
]	O
as	O
follows	O
:	O
If	O
cluster	O
κ	O
includes	O
only	O
continuous	O
predictors	O
then	O
simulate	O
N	O
realisations	O
of	O
the	O
predictors	O
at	O
the	O
‘	O
start	O
’	O
of	O
the	O
cluster	O
as	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
{\	O
boldsymbol	O
{	O
X	O
}}	O
_p	O
\	O
sim	O
\	O
mathrm	O
{	O
Normal	O
}\	O
left	O
(	O
0	O
,	O
1	O
\	O
right	O
),	O
$$\	O
end	O
{	O
document	O
}	O
Xp	O
∼	O
Normal01	O
,	O
and	O
simulate	O
the	O
remaining	O
K	O
-	O
1	O
correlated	O
predictors	O
as	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
{\	O
boldsymbol	O
{	O
X	O
}}	O
_p	O
\	O
sim	O
\	O
rho	O
{\	O
boldsymbol	O
{	O
X	O
}}	O
_	O
{	O
p	O
-	O
1	O
}+\	O
sqrt	O
{\	O
left	O
(	O
1	O
-{\	O
rho	O
}^	O
2	O
\	O
right	O
)}\	O
boldsymbol	O
{\	O
Psi	O
},	O
$$\	O
end	O
{	O
document	O
}	O
Xp	O
∼	O
ρXp	O
−	O
1	O
+	O
1	O
−	O
ρ2Ψ	O
,	O
where	O
Ψ	O
∼	O
Normal	O
(	O
0	O
,	O
1	O
).	O
Else	O
,	O
if	O
cluster	O
κ	O
includes	O
only	O
binary	O
predictors	O
,	O
we	O
generate	O
them	O
as	O
latent	O
Normal	O
.	O

Specifically	O
,	O
simulate	O
N	O
realisations	O
of	O
the	O
predictors	O
at	O
the	O
‘	O
start	O
’	O
of	O
each	O
cluster	O
as	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
{\	O
boldsymbol	O
{	O
X	O
}}	O
_p	O
\	O
sim	O
\	O
mathrm	O
{	O
Normal	O
}\	O
left	O
(	O
0	O
,	O
1	O
\	O
right	O
),	O
$$\	O
end	O
{	O
document	O
}	O
Xp	O
∼	O
Normal01	O
,	O
and	O
simulate	O
the	O
remaining	O
K	O
-	O
1	O
correlated	O
predictors	O
as	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
{\	O
boldsymbol	O
{	O
X	O
}}	O
_p	O
\	O
sim	O
\	O
left	O
\{\	O
begin	O
{	O
array	O
}{	O
c	O
}\	O
hfill	O
{\	O
boldsymbol	O
{	O
X	O
}}	O
_	O
{	O
p	O
-	O
1	O
}\	O
\	O
mathrm	O
{	O
with	O
}\	O
\	O
mathrm	O
{	O
prob	O
}.\	O
\	O
rho	O
\	O
hfill	O
\\	O
{}\	O
hfill	O
\	O
boldsymbol	O
{\	O
Psi	O
}\	O
\	O
mathrm	O
{	O
with	O
}\	O
\	O
mathrm	O
{	O
prob	O
}.\	O
1	O
-\	O
rho	O
\	O
hfill	O
\	O
end	O
{	O
array	O
}\	O
right	O
.	O
$$\	O
end	O
{	O
document	O
}	O
Xp	O
∼	O
Xp	O
−	O
1withprob	O
.	O
ρΨwithprob	O
.	O
1	O
−	O
ρ	O
where	O
Ψ	O
∼	O
Normal	O
(	O
0	O
,	O
1	O
).	O

Each	O
variable	O
in	O
the	O
cluster	O
was	O
then	O
dichotomized	O
to	O
give	O
a	O
pre	O
-	O
defined	O
cluster	O
-	O
specific	O
event	O
rate	O
between	O
10	O
and	O
50	O
%,	O
which	O
are	O
values	O
frequently	O
reported	O
in	O
observational	O
datasets	O
.	O
Repeat	O
steps	O
1	O
to	O
2	O
across	O
all	O
κ	O
=	O
10	O
clusters	O
.	O

Sensitivity	O
analyses	O
across	O
a	O
range	O
of	O
within	O
-	O
cluster	O
correlations	O
,	O
ρ	O
∈	O
[	O
0	O
,	O
0	O
.	O
99	O
]	O
showed	O
that	O
the	O
results	O
were	O
qualitatively	O
similar	O
;	O
the	O
results	O
given	O
are	O
for	O
ρ	O
=	O
0	O
.	O
75	O
.	O

Binary	O
responses	O
for	O
individuals	O
i	O
=	O
1	O
,	O
…,	O
n	O
j	O
in	O
population	O
j	O
were	O
sampled	O
from	O
a	O
population	O
-	O
specific	O
generating	O
logistic	O
regression	O
model	O
with	O
P	O
(	O
Y	O
i	O
,	O
j	O
=	O
1	O
)	O
=	O
q	O
i	O
,	O
j	O
,	O
where	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
\	O
log	O
\	O
left	O
(\	O
frac	O
{	O
q_	O
{	O
i	O
,	O
j	O
}}{	O
1	O
-{	O
q	O
}	O
_	O
{	O
i	O
,	O
j	O
}}\	O
right	O
)={\	O
alpha	O
}	O
_	O
{	O
0	O
,	O
j	O
}	O
+	O
{\	O
displaystyle	O
\	O
sum_	O
{	O
p	O
=	O
1	O
}^{	O
P	O
=	O
50	O
\	O
}}{\	O
alpha	O
}	O
_	O
{	O
p	O
,	O
j	O
}{\	O
mathrm	O
{	O
x	O
}}	O
_	O
{	O
i	O
,	O
p	O
}	O
$$\	O
end	O
{	O
document	O
}	O
logqi	O
,	O
j1	O
−	O
qi	O
,	O
j	O
=	O
α0	O
,	O
j	O
+∑	O
p	O
=	O
1P	O
=	O
50αp	O
,	O
jxi	O
,	O
p	O

with	O
intercept	O
α	O
0	O
,	O
j	O
and	O
generating	O
coefficients	O
α	O
1	O
,	O
j	O
,	O
…,	O
α	O
50	O
,	O
j	O
.	O

If	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
\	O
overline	O
{\	O
boldsymbol	O
{\	O
alpha	O
}}	O
$$\	O
end	O
{	O
document	O
}	O
α	O
¯	O
represents	O
the	O
vector	O
of	O
mean	O
predictor	O
effects	O
across	O
all	O
populations	O
,	O
then	O
the	O
simulation	O
mechanism	O
in	O
each	O
population	O
j	O
and	O
generating	O
parameter	O
p	O
=	O
1	O
,	O
…,	O
50	O
was	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
{\	O
alpha	O
}	O
_	O
{	O
p	O
,	O
j	O
}\	O
sim	O
\	O
left	O
\{\	O
begin	O
{	O
array	O
}{	O
cc	O
}\	O
hfill	O
\	O
mathrm	O
{	O
N	O
}\	O
left	O
({\	O
overline	O
{\	O
alpha	O
}}	O
_p	O
,{\	O
upsigma	O
}^	O
2	O
\	O
right	O
)\	O
hfill	O
&	O
\	O
hfill	O
\	O
mathrm	O
{	O
if	O
}\	O
p	O
\	O
equiv	O
1	O
\	O
\	O
left	O
(	O
\	O
mod	O
\	O
\	O
mathrm	O
{	O
K	O
}=	O
5	O
\	O
right	O
)\	O
hfill	O
\\	O
{}\	O
hfill	O
0	O
\	O
hfill	O
&	O
\	O
hfill	O
\	O
mathrm	O
{	O
otherwise	O
}\	O
hfill	O
\	O
end	O
{	O
array	O
}\	O
right	O
.	O
$$\	O
end	O
{	O
document	O
}	O
αp	O
,	O
j	O
∼	O
Nα	O
¯	O
pσ2ifp	O
≡	O
1modK	O
=	O
50otherwise	O

The	O
p	O
≡	O
1	O
(	O
mod	O
K	O
=	O
5	O
)	O
condition	O
implies	O
(	O
without	O
loss	O
of	O
generality	O
)	O
that	O
in	O
each	O
population	O
,	O
all	O
non	O
-	O
zero	O
generating	O
coefficients	O
were	O
those	O
at	O
the	O
‘	O
start	O
’	O
of	O
each	O
cluster	O
.	O

Further	O
,	O
such	O
a	O
simulation	O
procedure	O
induced	O
between	O
-	O
population	O
-	O
heterogeneity	O
by	O
applying	O
random	O
variation	O
to	O
the	O
mean	O
predictor	O
-	O
effects	O
(\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
\	O
overline	O
{\	O
boldsymbol	O
{\	O
alpha	O
}}	O
$$\	O
end	O
{	O
document	O
}	O
α	O
¯),	O
which	O
was	O
controlled	O
through	O
the	O
value	O
of	O
σ	O
that	O
was	O
introduced	O
above	O
.	O

To	O
represent	O
coefficients	O
frequently	O
reported	O
in	O
published	O
models	O
,	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
\	O
overline	O
{\	O
boldsymbol	O
{\	O
alpha	O
}}	O
$$\	O
end	O
{	O
document	O
}	O
α	O
¯	O
was	O
sampled	O
in	O
each	O
simulation	O
as	O
follows	O
:\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
{\	O
overline	O
{\	O
alpha	O
}}	O
_p	O
\	O
sim	O
\	O
left	O
\{\	O
begin	O
{	O
array	O
}{	O
cc	O
}\	O
hfill	O
\	O
mathrm	O
{	O
Uniform	O
}\	O
left	O
(	O
0	O
.	O
80	O
,\	O
1	O
.	O
6	O
\	O
right	O
)\	O
hfill	O
&	O
\	O
hfill	O
\	O
mathrm	O
{	O
if	O
}\	O
\	O
mathrm	O
{	O
parameter	O
}\	O
p	O
\	O
\	O
mathrm	O
{	O
is	O
}\	O
\	O
mathrm	O
{	O
binary	O
}\	O
hfill	O
\\	O
{}\	O
hfill	O
\	O
mathrm	O
{	O
Uniform	O
}\	O
left	O
(	O
0	O
.	O
08	O
,\	O
0	O
.	O
1	O
\	O
right	O
)\	O
hfill	O
&	O
\	O
hfill	O
\	O
mathrm	O
{	O
if	O
}\	O
\	O
mathrm	O
{	O
parameter	O
}\	O
p	O
\	O
\	O
mathrm	O
{	O
is	O
}\	O
\	O
mathrm	O
{	O
continuous	O
}\	O
hfill	O
\	O
end	O
{	O
array	O
}\	O
right	O
.	O
$$\	O
end	O
{	O
document	O
}	O
α	O
¯	O
p	O
∼	O
Uniform0	O
.	O
80	O
,	O
1	O
.	O
6ifparameterpisbinaryUniform0	O
.	O
08	O
,	O
0	O
.	O
1ifparameterpiscontinuous	O

In	O
addition	O
,	O
baseline	O
risk	O
undoubtedly	O
differs	O
between	O
populations	O
and	O
,	O
as	O
such	O
,	O
each	O
intercept	O
α	O
0	O
,	O
j	O
was	O
selected	O
to	O
give	O
an	O
average	O
pre	O
-	O
defined	O
event	O
rate	O
of	O
20	O
%	O
plus	O
random	O
variation	O
.	O

All	O
simulations	O
were	O
repeated	O
with	O
an	O
event	O
rate	O
of	O
50	O
%,	O
reflecting	O
a	O
1	O
-	O
to	O
-	O
1	O
case	O
-	O
control	O
study	O
.	O

A	O
sensitivity	O
analysis	O
was	O
undertaken	O
where	O
the	O
magnitude	O
of	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
\	O
overline	O
{\	O
boldsymbol	O
{\	O
alpha	O
}}	O
$$\	O
end	O
{	O
document	O
}	O
α	O
¯	O
was	O
different	O
across	O
the	O
generating	O
predictors	O
(	O
see	O
Additional	O
file	O
1	O
for	O
details	O
),	O
but	O
the	O
results	O
were	O
qualitatively	O
similar	O
as	O
those	O
presented	O
here	O
and	O
so	O
are	O
omitted	O
.	O

Simulation	O
design	O
:	O
performance	O
measures	O

For	O
each	O
iteration	O
within	O
a	O
given	O
simulation	O
scenario	O
,	O
the	O
mean	O
squared	O
error	O
(	O
MSE	O
)	O
between	O
the	O
predicted	O
risk	O
from	O
each	O
aggregate	O
/	O
new	O
model	O
and	O
the	O
actual	O
risk	O
from	O
the	O
generating	O
model	O
were	O
calculated	O
across	O
all	O
samples	O
in	O
the	O
validation	O
set	O
.	O

That	O
is	O
,	O
for	O
model	O
m	O
we	O
have	O
,	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
{\	O
mathrm	O
{	O
MSE	O
}}	O
_	O
{\	O
mathrm	O
{	O
m	O
}}=\	O
frac	O
{	O
1	O
}{	O
n_	O
{	O
validate	O
}}{\	O
displaystyle	O
\	O
sum_	O
{	O
i	O
=	O
1	O
}^{	O
n_	O
{	O
validate	O
}}}{\	O
left	O
({\	O
widehat	O
{\	O
pi	O
}}	O
_	O
{	O
i	O
,	O
m	O
}-{	O
q	O
}	O
_i	O
\	O
right	O
)}^	O
2	O
$$\	O
end	O
{	O
document	O
}	O
MSEm	O
=	O
1nvalidate	O
∑	O
i	O
=	O
1nvalidateπ	O
^	O
i	O
,	O
m	O
−	O
qi2	O
,	O
where	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
{\	O
widehat	O
{\	O
pi	O
}}	O
_	O
{	O
i	O
,	O
m	O
}	O
$$\	O
end	O
{	O
document	O
}	O
π	O
^	O
i	O
,	O
m	O
is	O
the	O
predicted	O
risk	O
from	O
model	O
m	O
for	O
observation	O
i	O
in	O
the	O
validation	O
set	O
and	O
q	O
i	O
is	O
the	O
generating	O
model	O
risks	O
for	O
this	O
observation	O
.	O

Similarly	O
,	O
the	O
MSE	O
was	O
calculated	O
between	O
the	O
estimated	O
coefficients	O
of	O
each	O
aggregate	O
/	O
new	O
model	O
and	O
the	O
generating	O
coefficients	O
(	O
i	O
.	O
e	O
.	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
{\	O
mathrm	O
{	O
MSE	O
}}	O
_	O
{\	O
mathrm	O
{	O
m	O
}}=\	O
frac	O
{	O
1	O
}{	O
P	O
}{\	O
displaystyle	O
\	O
sum_	O
{	O
p	O
=	O
1	O
}^	O
P	O
}{\	O
left	O
({\	O
widehat	O
{\	O
beta	O
}}	O
_	O
{	O
p	O
,	O
m	O
}-{\	O
alpha	O
}	O
_	O
{	O
p	O
,	O
M	O
+	O
1	O
}\	O
right	O
)}^	O
2	O
$$\	O
end	O
{	O
document	O
}	O
MSEm	O
=	O
1P	O
∑	O
p	O
=	O
1Pβ	O
^	O
p	O
,	O
m	O
−	O
αp	O
,	O
M	O
+	O
12	O
,	O
where	O
\	O
documentclass	O
[	O
12pt	O
]{	O
minimal	O
}	O
\	O
usepackage	O
{	O
amsmath	O
}	O
\	O
usepackage	O
{	O
wasysym	O
}	O
\	O
usepackage	O
{	O
amsfonts	O
}	O
\	O
usepackage	O
{	O
amssymb	O
}	O
\	O
usepackage	O
{	O
amsbsy	O
}	O
\	O
usepackage	O
{	O
mathrsfs	O
}	O
\	O
usepackage	O
{	O
upgreek	O
}	O
\	O
setlength	O
{\	O
oddsidemargin	O
}{-	O
69pt	O
}	O
\	O
begin	O
{	O
document	O
}$$	O
{\	O
widehat	O
{\	O
beta	O
}}	O
_	O
{	O
p	O
,	O
m	O
}	O
$$\	O
end	O
{	O
document	O
}	O
β	O
^	O
p	O
,	O
m	O
is	O
the	O
estimated	O
p	O
th	O
coefficient	O
from	O
model	O
m	O
and	O
α	O
p	O
,	O
M	O
+	O
1	O
is	O
the	O
p	O
th	O
generating	O
coefficient	O
in	O
the	O
local	O
population	O
).	O

Additionally	O
,	O
the	O
calibration	O
and	O
discrimination	O
of	O
each	O
aggregate	O
/	O
new	O
model	O
were	O
calculated	O
in	O
the	O
validation	O
set	O
.	O

The	O
calibration	O
was	O
quantified	O
with	O
a	O
calibration	O
intercept	O
and	O
slope	O
,	O
where	O
values	O
of	O
zero	O
and	O
one	O
respectively	O
represent	O
a	O
well	O
-	O
calibrated	O
model	O
[	O
30	O
].	O

Discrimination	O
was	O
evaluated	O
by	O
the	O
area	O
under	O
the	O
ROC	O
curve	O
(	O
AUC	O
).	O

All	O
performance	O
measures	O
were	O
averaged	O
across	O
iterations	O
and	O
the	O
empirical	O
standard	O
errors	O
were	O
calculated	O
.	O

Results	O

Simulated	O
between	O
-	O
population	O
heterogeneity	O

To	O
gain	O
a	O
practical	O
understanding	O
of	O
the	O
between	O
-	O
population	O
-	O
heterogeneity	O
generated	O
by	O
increasing	O
values	O
of	O
σ	O
,	O
for	O
all	O
simulated	O
parameters	O
the	O
difference	O
between	O
the	O
largest	O
coefficient	O
and	O
smallest	O
coefficient	O
across	O
populations	O
was	O
calculated	O
and	O
summarised	O
(	O
Table	O
1	O
);	O
such	O
values	O
were	O
compared	O
with	O
corresponding	O
values	O
from	O
the	O
surgical	O
models	O
.	O

Coefficient	O
differences	O
over	O
the	O
LES	O
,	O
ESII	O
,	O
STS	O
and	O
German	O
AV	O
represent	O
heterogeneity	O
across	O
cardiac	O
surgery	O
risk	O
models	O
each	O
developed	O
across	O
multiple	O
countries	O
.	O

Coefficient	O
differences	O
over	O
these	O
models	O
closely	O
matched	O
those	O
generated	O
with	O
σ	O
=	O
0	O
.	O
25	O
or	O
σ	O
=	O
0	O
.	O
375	O
.	O

Conversely	O
,	O
LES	O
and	O
ESII	O
are	O
two	O
models	O
that	O
were	O
developed	O
on	O
very	O
similar	O
cohorts	O
of	O
patients	O
;	O
here	O
,	O
the	O
coefficient	O
differences	O
most	O
closely	O
match	O
those	O
generated	O
by	O
σ	O
=	O
0	O
.	O
125	O
.	O

Similarly	O
,	O
the	O
average	O
standard	O
deviation	O
of	O
the	O
coefficients	O
across	O
the	O
LES	O
,	O
ESII	O
,	O
STS	O
and	O
German	O
AV	O
models	O
was	O
0	O
.	O
33	O
(	O
closely	O
matching	O
σ	O
=	O
0	O
.	O
375	O
),	O
while	O
that	O
between	O
the	O
LES	O
and	O
ESII	O
was	O
0	O
.	O
26	O
(	O
closely	O
matching	O
σ	O
=	O
0	O
.	O
25	O
).	O

Together	O
,	O
this	O
suggests	O
that	O
σ	O
values	O
between	O
0	O
and	O
0	O
.	O
375	O
likely	O
represent	O
the	O
majority	O
of	O
clinical	O
situations	O
,	O
with	O
σ	O
values	O
greater	O
than	O
0	O
.	O
5	O
arguably	O
rare	O
in	O
practice	O
.	O
Table	O
1Summary	O
measures	O
of	O
the	O
difference	O
in	O
generating	O
coefficients	O
values	O
across	O
all	O
simulated	O
populations	O
σ	O
LES	O
,	O
ESII	O
,	O
STS	O
,	O
German	O
AVLES	O
,	O
ESII00	O
.	O
1250	O
.	O
250	O
.	O
3750	O
.	O
50	O
.	O
751Lower	O
Quartilea	O
00	O
.	O
290	O
.	O
580	O
.	O
861	O
.	O
161	O
.	O
742	O
.	O
310	O
.	O
370	O
.	O
14Mediana	O
00	O
.	O
310	O
.	O
630	O
.	O
951	O
.	O
271	O
.	O
902	O
.	O
520	O
.	O
570	O
.	O
31Meana	O
00	O
.	O
320	O
.	O
630	O
.	O
951	O
.	O
271	O
.	O
902	O
.	O
530	O
.	O
700	O
.	O
37Upper	O
Quartilea	O
00	O
.	O
340	O
.	O
681	O
.	O
031	O
.	O
382	O
.	O
062	O
.	O
740	O
.	O
850	O
.	O
54SDb	O
00	O
.	O
120	O
.	O
240	O
.	O
360	O
.	O
480	O
.	O
710	O
.	O
950	O
.	O
330	O
.	O
26The	O
values	O
for	O
the	O
LES	O
,	O
ESII	O
,	O
STS	O
and	O
German	O
AV	O
are	O
approximate	O
,	O
since	O
variable	O
definitions	O
vary	O
between	O
CPMs	O
a	O
:	O
values	O
represent	O
summary	O
measures	O
across	O
all	O
iterations	O
of	O
the	O
average	O
difference	O
between	O
the	O
largest	O
coefficient	O
and	O
smallest	O
coefficient	O
across	O
populations	O
b	O
:	O
the	O
average	O
standard	O
deviation	O
(	O
SD	O
)	O
of	O
each	O
coefficient	O
across	O
all	O
populations	O
.	O

All	O
values	O
aim	O
to	O
guide	O
the	O
between	O
-	O
population	O
heterogeneity	O
induced	O
through	O
different	O
σ	O
values	O

Mean	O
square	O
error	O

For	O
training	O
set	O
samples	O
of	O
500	O
or	O
less	O
and	O
when	O
σ	O
≤	O
0	O
.	O
25	O
,	O
all	O
three	O
aggregation	O
approaches	O
resulted	O
in	O
predicted	O
risks	O
that	O
had	O
smaller	O
mean	O
square	O
error	O
and	O
lowered	O
the	O
variance	O
component	O
of	O
the	O
error	O
compared	O
with	O
redevelopment	O
(	O
Additional	O
file	O
1	O
:	O
Table	O
S2	O
).	O

Similarly	O
,	O
for	O
training	O
sample	O
sizes	O
less	O
than	O
or	O
equal	O
to	O
500	O
,	O
SR	O
had	O
estimated	O
coefficients	O
with	O
consistently	O
smaller	O
mean	O
square	O
error	O
with	O
lower	O
standard	O
error	O
than	O
the	O
redevelopment	O
approaches	O
,	O
with	O
the	O
exception	O
of	O
the	O
two	O
highest	O
values	O
of	O
σ	O
(	O
Additional	O
file	O
1	O
:	O
Table	O
S3	O
).	O

Conversely	O
,	O
for	O
training	O
samples	O
of	O
1000	O
or	O
more	O
,	O
developing	O
a	O
new	O
model	O
by	O
ridge	O
regression	O
provided	O
parameter	O
estimates	O
with	O
at	O
least	O
equivalent	O
MSE	O
to	O
the	O
aggregation	O
methods	O
.	O

Model	O
calibration	O

The	O
calibration	O
intercepts	O
for	O
all	O
the	O
aggregate	O
/	O
new	O
models	O
were	O
not	O
significantly	O
different	O
from	O
zero	O
in	O
the	O
validation	O
set	O
across	O
all	O
simulations	O
(	O
Fig	O
.	O
2	O
).	O

Across	O
all	O
values	O
of	O
σ	O
and	O
for	O
training	O
set	O
sizes	O
smaller	O
than	O
1000	O
,	O
the	O
calibration	O
slope	O
of	O
the	O
AIC	O
derived	O
model	O
was	O
significantly	O
below	O
one	O
indicating	O
overfitting	O
,	O
while	O
that	O
for	O
ridge	O
regression	O
was	O
higher	O
than	O
one	O
,	O
indicating	O
slight	O
over	O
-	O
shrinkage	O
on	O
the	O
parameters	O
(	O
Fig	O
.	O
3	O
).	O

Conversely	O
,	O
the	O
three	O
aggregate	O
models	O
had	O
a	O
calibration	O
slope	O
not	O
significantly	O
different	O
from	O
one	O
in	O
any	O
scenario	O
,	O
with	O
the	O
exception	O
of	O
PCA	O
in	O
the	O
smallest	O
sample	O
sizes	O
.	O
Fig	O
.	O
2Calibration	O
Intercept	O
:	O
Calibration	O
intercept	O
in	O
the	O
validation	O
set	O
for	O
SR	O
,	O
PCA	O
and	O
the	O
two	O
newly	O
derived	O
models	O
across	O
all	O
simulation	O
situations	O
.	O

The	O
PLS	O
results	O
were	O
nearly	O
identical	O
to	O
SR	O
/	O
PCA	O
and	O
so	O
are	O
omitted	O
for	O
clarity	O
.	O

Note	O
:	O
σ	O
=	O
1	O
was	O
removed	O
from	O
the	O
plot	O
for	O
clarity	O
since	O
the	O
results	O
quantitatively	O
similar	O
to	O
σ	O
=	O
0	O
.	O
75	O
Fig	O
.	O
3Calibration	O
Slope	O
:	O
Calibration	O
slope	O
in	O
the	O
validation	O
set	O
for	O
SR	O
,	O
PCA	O
and	O
the	O
two	O
newly	O
derived	O
models	O
across	O
all	O
simulation	O
situations	O
.	O

The	O
PLS	O
results	O
were	O
nearly	O
identical	O
to	O
SR	O
/	O
PCA	O
and	O
so	O
are	O
omitted	O
for	O
clarity	O
.	O

Note	O
:	O
σ	O
=	O
1	O
was	O
removed	O
from	O
the	O
plot	O
for	O
clarity	O
since	O
the	O
results	O
quantitatively	O
similar	O
to	O
σ	O
=	O
0	O
.	O
75	O
Fig	O
.	O
4Discrimination	O
:	O
Area	O
under	O
receiver	O
operating	O
characteristic	O
curve	O
(	O
AUC	O
)	O
in	O
the	O
validation	O
set	O
for	O
SR	O
,	O
PCA	O
and	O
the	O
two	O
newly	O
derived	O
models	O
across	O
all	O
scenarios	O
.	O

The	O
PLS	O
results	O
were	O
nearly	O
identical	O
to	O
SR	O
/	O
PCA	O
and	O
so	O
are	O
omitted	O
for	O
clarity	O
.	O

Note	O
:	O
σ	O
=	O
1	O
was	O
removed	O
from	O
the	O
plot	O
for	O
clarity	O
since	O
the	O
results	O
quantitatively	O
similar	O
to	O
σ	O
=	O
0	O
.	O
75	O

Model	O
discrimination	O

When	O
σ	O
≤	O
0	O
.	O
125	O
and	O
for	O
training	O
sets	O
of	O
250	O
or	O
fewer	O
,	O
the	O
AUC	O
of	O
SR	O
was	O
significantly	O
higher	O
than	O
that	O
of	O
both	O
redevelopment	O
approaches	O
(	O
Fig	O
.	O
4	O
).	O

Although	O
the	O
95	O
%	O
confidence	O
intervals	O
overlapped	O
,	O
when	O
σ	O
<	O
0	O
.	O
25	O
and	O
the	O
training	O
set	O
was	O
less	O
than	O
1000	O
observations	O
,	O
the	O
AUC	O
of	O
the	O
two	O
newly	O
derived	O
models	O
(	O
AIC	O
/	O
ridge	O
)	O
were	O
less	O
than	O
that	O
of	O
the	O
aggregate	O
approaches	O
(	O
Additional	O
file	O
1	O
:	O
Table	O
S4	O
).	O

For	O
instance	O
,	O
when	O
σ	O
=	O
0	O
,	O
the	O
AUC	O
of	O
SR	O
was	O
higher	O
than	O
that	O
of	O
ridge	O
regression	O
in	O
988	O
,	O
968	O
,	O
821	O
,	O
498	O
,	O
56	O
and	O
19	O
out	O
of	O
the	O
1000	O
iterations	O
for	O
training	O
set	O
sizes	O
150	O
,	O
250	O
,	O
500	O
,	O
1000	O
,	O
5000	O
and	O
10000	O
,	O
respectively	O
.	O

Hence	O
,	O
given	O
training	O
set	O
samples	O
of	O
less	O
than	O
500	O
and	O
very	O
similar	O
populations	O
,	O
SR	O
provides	O
consistently	O
higher	O
AUC	O
than	O
redevelopment	O
by	O
either	O
ridge	O
or	O
backwards	O
selection	O
.	O

Modelling	O
strategy	O
recommendations	O

A	O
framework	O
that	O
compared	O
modelling	O
strategies	O
of	O
redevelopment	O
and	O
aggregation	O
was	O
developed	O
.	O

For	O
redevelopment	O
,	O
ridge	O
regression	O
was	O
always	O
recommended	O
over	O
AIC	O
since	O
the	O
former	O
more	O
appropriately	O
accounted	O
for	O
low	O
training	O
set	O
sizes	O
.	O

Likewise	O
,	O
all	O
three	O
aggregation	O
approaches	O
performed	O
comparably	O
and	O
so	O
SR	O
was	O
considered	O
here	O
due	O
to	O
the	O
simplicity	O
of	O
implementation	O
.	O

Hence	O
,	O
on	O
comparing	O
ridge	O
regression	O
to	O
SR	O
across	O
all	O
simulation	O
scenarios	O
,	O
if	O
one	O
of	O
the	O
models	O
was	O
well	O
calibrated	O
(	O
calibration	O
intercepts	O
and	O
slopes	O
significantly	O
close	O
to	O
zero	O
and	O
one	O
,	O
respectively	O
)	O
and	O
had	O
significantly	O
higher	O
AUC	O
than	O
the	O
other	O
model	O
,	O
then	O
that	O
modelling	O
strategy	O
was	O
recommended	O
.	O

Conversely	O
,	O
if	O
both	O
models	O
were	O
well	O
calibrated	O
but	O
the	O
AUCs	O
were	O
not	O
significantly	O
different	O
,	O
then	O
a	O
recommendation	O
of	O
“	O
Either	O
”	O
was	O
given	O
.	O

Finally	O
,	O
if	O
one	O
of	O
the	O
models	O
was	O
miscalibrated	O
then	O
the	O
other	O
(	O
calibrated	O
)	O
modelling	O
strategy	O
was	O
recommended	O
.	O

When	O
the	O
size	O
of	O
the	O
training	O
set	O
was	O
less	O
than	O
500	O
,	O
then	O
aggregating	O
previously	O
published	O
models	O
by	O
SR	O
was	O
recommended	O
(	O
Table	O
2	O
).	O

Conversely	O
,	O
developing	O
a	O
new	O
model	O
by	O
ridge	O
regression	O
was	O
recommended	O
in	O
situations	O
where	O
σ	O
>	O
0	O
.	O
375	O
and	O
the	O
size	O
of	O
the	O
training	O
set	O
was	O
at	O
least	O
1000	O
observations	O
.	O

Between	O
these	O
scenarios	O
,	O
both	O
aggregation	O
methods	O
and	O
redevelopment	O
methods	O
provided	O
indistinguishable	O
performance	O
.	O

Similar	O
recommendations	O
were	O
given	O
when	O
the	O
average	O
event	O
prevalence	O
was	O
increased	O
to	O
50	O
%	O
(	O
Table	O
3	O
).	O
Table	O
2Modelling	O
strategy	O
recommendations	O
when	O
the	O
mean	O
incidence	O
of	O
adverse	O
outcome	O
was	O
20	O
%	O
σ	O
n	O
train	O
15025050010005000100000SRSREitherEitherEitherEither0	O
.	O
125SRSREitherEitherEitherEither0	O
.	O
25SRSREitherEitherEitherEither0	O
.	O
375SRSREitherEitherRidgeRidge0	O
.	O
5SRSREitherRidgeRidgeRidge0	O
.	O
75SRSRRidgeRidgeRidgeRidge1	O
.	O
00SRSRRidgeRidgeRidgeRidge	O
Table	O
3Modelling	O
strategy	O
recommendations	O
when	O
the	O
mean	O
incidence	O
of	O
adverse	O
outcome	O
was	O
50	O
%	O
σ	O
n	O
train	O
15025050010005000100000SRSREitherEitherEitherEither0	O
.	O
125SRSREitherEitherEitherEither0	O
.	O
25SRSREitherEitherEitherEither0	O
.	O
375SRSREitherRidgeRidgeRidge0	O
.	O
5SRRidgeRidgeRidgeRidgeRidge0	O
.	O
75RidgeRidgeRidgeRidgeRidgeRidge1	O
.	O
00RidgeRidgeRidgeRidgeRidgeRidge	O

Discussion	O

This	O
study	O
demonstrates	O
that	O
aggregating	O
multiple	O
published	O
CPMs	O
is	O
a	O
useful	O
derivation	O
strategy	O
,	O
particularly	O
when	O
there	O
are	O
limited	O
data	O
available	O
.	O

Stacked	O
regression	O
was	O
a	O
simple	O
yet	O
effective	O
aggregation	O
method	O
,	O
which	O
resulted	O
in	O
predictions	O
and	O
parameter	O
estimates	O
with	O
lowest	O
MSE	O
given	O
low	O
sample	O
sizes	O
and	O
low	O
between	O
-	O
population	O
-	O
heterogeneity	O
.	O

These	O
results	O
are	O
consistent	O
with	O
previous	O
studies	O
[	O
9	O
].	O

Conversely	O
,	O
AIC	O
derived	O
models	O
were	O
miscalibrated	O
when	O
the	O
training	O
set	O
sample	O
size	O
was	O
between	O
150	O
and	O
500	O
,	O
confirming	O
that	O
small	O
samples	O
lead	O
to	O
overfitting	O
in	O
new	O
regression	O
estimates	O
[	O
8	O
,	O
31	O
,	O
32	O
].	O

Ridge	O
regression	O
,	O
which	O
is	O
a	O
similar	O
concept	O
to	O
parameter	O
shrinkage	O
,	O
mitigated	O
overfitting	O
but	O
was	O
potentially	O
susceptible	O
to	O
slight	O
over	O
-	O
shrinkage	O
.	O

Redevelopment	O
only	O
resulted	O
in	O
a	O
model	O
with	O
better	O
performance	O
than	O
the	O
aggregation	O
methods	O
when	O
there	O
was	O
a	O
large	O
amount	O
of	O
training	O
data	O
or	O
the	O
existing	O
CPMs	O
were	O
significantly	O
heterogeneous	O
.	O

Previous	O
methodological	O
research	O
around	O
incorporating	O
existing	O
CPMs	O
has	O
focussed	O
on	O
updating	O
a	O
single	O
existing	O
model	O
to	O
the	O
new	O
population	O
of	O
interest	O
[	O
7	O
,	O
8	O
,	O
10	O
,	O
33	O
].	O

These	O
techniques	O
range	O
from	O
model	O
recalibration	O
to	O
the	O
additional	O
of	O
new	O
risk	O
factors	O
and	O
have	O
been	O
shown	O
to	O
provide	O
improved	O
performance	O
over	O
deriving	O
new	O
prediction	O
models	O
,	O
especially	O
when	O
only	O
small	O
datasets	O
are	O
available	O
[	O
8	O
].	O

However	O
,	O
updating	O
techniques	O
only	O
adapt	O
one	O
previous	O
model	O
to	O
the	O
current	O
data	O
.	O

In	O
this	O
sense	O
,	O
the	O
concept	O
of	O
model	O
aggregation	O
is	O
analogous	O
to	O
meta	O
-	O
analysis	O
since	O
it	O
aims	O
to	O
synthesise	O
all	O
previous	O
research	O
in	O
the	O
development	O
of	O
the	O
CPM	O
.	O

Moreover	O
,	O
CPMs	O
often	O
perform	O
poorly	O
in	O
high	O
-	O
risk	O
patients	O
.	O

If	O
there	O
are	O
relatively	O
low	O
proportions	O
of	O
high	O
-	O
risk	O
patients	O
in	O
a	O
given	O
population	O
,	O
then	O
the	O
development	O
/	O
update	O
of	O
a	O
CPM	O
to	O
this	O
population	O
can	O
result	O
in	O
such	O
high	O
-	O
risk	O
,	O
poorly	O
predicted	O
patients	O
becoming	O
more	O
prevalent	O
since	O
parameter	O
estimates	O
occur	O
for	O
the	O
population	O
average	O
.	O

In	O
such	O
situations	O
,	O
one	O
should	O
pay	O
close	O
attention	O
to	O
the	O
residuals	O
of	O
the	O
model	O
;	O
machine	O
-	O
learning	O
methods	O
such	O
as	O
Boosting	O
are	O
a	O
formal	O
approach	O
to	O
this	O
.	O

Since	O
the	O
aim	O
of	O
this	O
study	O
was	O
to	O
examine	O
the	O
benefits	O
of	O
aggregation	O
over	O
independently	O
deriving	O
a	O
CPM	O
,	O
this	O
study	O
compared	O
each	O
approach	O
separately	O
to	O
solely	O
extract	O
the	O
benefit	O
of	O
either	O
method	O
.	O

However	O
,	O
meta	O
-	O
analysis	O
methods	O
that	O
simultaneously	O
aggregate	O
and	O
redevelop	O
CPMs	O
have	O
been	O
proposed	O
[	O
18	O
,	O
34	O
,	O
35	O
];	O
utilising	O
existing	O
CPMs	O
,	O
expert	O
knowledge	O
and	O
new	O
data	O
optimally	O
requires	O
further	O
research	O
.	O

For	O
instance	O
,	O
risk	O
factors	O
may	O
not	O
be	O
common	O
across	O
existing	O
CPMs	O
,	O
which	O
could	O
lead	O
to	O
bias	O
if	O
one	O
is	O
interested	O
in	O
simultaneously	O
aggregating	O
and	O
redeveloping	O
CPMs	O
in	O
the	O
local	O
population	O
[	O
36	O
].	O

Previous	O
methodology	O
of	O
CPM	O
meta	O
-	O
analysis	O
with	O
individual	O
patient	O
data	O
has	O
largely	O
been	O
limited	O
to	O
assuming	O
that	O
models	O
share	O
similar	O
risk	O
predictors	O
[	O
10	O
,	O
18	O
].	O

Conversely	O
,	O
SR	O
,	O
PCA	O
and	O
PLS	O
relax	O
this	O
assumption	O
[	O
9	O
].	O

Indeed	O
,	O
the	O
simulation	O
design	O
of	O
this	O
study	O
allowed	O
the	O
existing	O
CPMs	O
to	O
be	O
heterogeneous	O
in	O
their	O
risk	O
predictor	O
set	O
.	O

Nevertheless	O
,	O
there	O
are	O
potential	O
problems	O
of	O
aggregating	O
CPMs	O
that	O
require	O
attention	O
.	O

Firstly	O
,	O
each	O
existing	O
CPM	O
aims	O
to	O
predict	O
the	O
same	O
outcome	O
and	O
most	O
include	O
very	O
similar	O
subset	O
of	O
predictors	O
,	O
thus	O
inducing	O
a	O
high	O
level	O
of	O
correlation	O
between	O
the	O
multiple	O
CPMs	O
.	O

Although	O
the	O
weights	O
in	O
SR	O
are	O
restricted	O
to	O
be	O
non	O
-	O
negative	O
to	O
avoid	O
situations	O
of	O
negative	O
coefficients	O
caused	O
by	O
inclusion	O
of	O
two	O
correlated	O
models	O
,	O
further	O
work	O
examining	O
the	O
collinearity	O
issues	O
is	O
required	O
[	O
10	O
].	O

Secondly	O
,	O
differences	O
in	O
risk	O
factor	O
definitions	O
between	O
existing	O
CPMs	O
could	O
potentially	O
weaken	O
the	O
performance	O
of	O
SR	O
,	O
PCA	O
or	O
PLS	O
.	O

The	O
current	O
study	O
aimed	O
to	O
replicate	O
this	O
practical	O
limitation	O
by	O
generating	O
predictors	O
within	O
clusters	O
of	O
correlated	O
variables	O
;	O
here	O
,	O
given	O
a	O
moderate	O
degree	O
of	O
correlation	O
between	O
the	O
multiple	O
similarly	O
defined	O
risk	O
factors	O
,	O
the	O
aggregation	O
methods	O
still	O
performed	O
well	O
.	O

Finally	O
,	O
datasets	O
across	O
populations	O
frequently	O
collect	O
different	O
variables	O
,	O
potentially	O
meaning	O
a	O
variable	O
included	O
in	O
an	O
existing	O
CPM	O
is	O
not	O
available	O
in	O
the	O
local	O
population	O
.	O

In	O
such	O
circumstances	O
of	O
systematically	O
missing	O
covariates	O
,	O
it	O
is	O
unclear	O
how	O
one	O
should	O
calculate	O
the	O
linear	O
predictor	O
for	O
patients	O
in	O
the	O
new	O
local	O
population	O
[	O
37	O
].	O

If	O
systematically	O
missing	O
risk	O
factors	O
are	O
not	O
handled	O
appropriately	O
,	O
then	O
the	O
aggregate	O
CPM	O
could	O
be	O
biased	O
.	O

The	O
main	O
strength	O
of	O
this	O
work	O
is	O
that	O
we	O
perform	O
a	O
simulation	O
study	O
under	O
a	O
range	O
of	O
realistic	O
scenarios	O
and	O
consider	O
multiple	O
performance	O
measures	O
,	O
thereby	O
allowing	O
a	O
comprehensive	O
and	O
systematic	O
examination	O
of	O
the	O
aggregation	O
approaches	O
.	O

Conversely	O
,	O
the	O
main	O
limitation	O
is	O
that	O
we	O
simulate	O
only	O
a	O
crude	O
reflection	O
of	O
real	O
between	O
-	O
population	O
-	O
heterogeneity	O
.	O

Over	O
-	O
arching	O
variance	O
of	O
model	O
parameters	O
does	O
not	O
necessarily	O
reflect	O
the	O
complex	O
differences	O
in	O
data	O
-	O
generating	O
processes	O
that	O
may	O
vary	O
between	O
populations	O
.	O

However	O
,	O
without	O
a	O
comprehensive	O
set	O
of	O
joint	O
probability	O
distributions	O
for	O
the	O
covariates	O
of	O
a	O
given	O
model	O
,	O
accurately	O
modelling	O
population	O
heterogeneity	O
is	O
difficult	O
to	O
achieve	O
.	O

Hence	O
,	O
confirmation	O
of	O
our	O
findings	O
will	O
be	O
required	O
from	O
studies	O
in	O
observational	O
datasets	O
.	O

A	O
further	O
limitation	O
is	O
that	O
publication	O
bias	O
is	O
known	O
to	O
impact	O
prognostic	O
research	O
[	O
38	O
],	O
but	O
its	O
effects	O
were	O
not	O
analysed	O
in	O
this	O
study	O
;	O
such	O
bias	O
would	O
lead	O
to	O
overestimation	O
of	O
aggregated	O
regression	O
coefficients	O
.	O

Finally	O
,	O
the	O
aggregation	O
methods	O
assume	O
that	O
each	O
population	O
is	O
a	O
random	O
sample	O
from	O
an	O
over	O
-	O
arching	O
common	O
population	O
.	O

The	O
data	O
-	O
generating	O
mechanisms	O
in	O
this	O
simulation	O
directly	O
matched	O
this	O
assumption	O
by	O
simulating	O
generating	O
model	O
coefficients	O
as	O
a	O
random	O
sample	O
from	O
a	O
common	O
distribution	O
.	O

Similarly	O
,	O
the	O
distributions	O
of	O
the	O
risk	O
predictors	O
were	O
assumed	O
the	O
same	O
between	O
populations	O
.	O

Overall	O
,	O
the	O
current	O
work	O
suggests	O
a	O
framework	O
of	O
modelling	O
strategy	O
when	O
developing	O
a	O
model	O
for	O
a	O
local	O
/	O
defined	O
population	O
.	O

In	O
practice	O
,	O
an	O
estimate	O
of	O
the	O
between	O
-	O
population	O
-	O
heterogeneity	O
could	O
be	O
approximated	O
by	O
examining	O
the	O
differences	O
in	O
coefficients	O
between	O
existing	O
CPMs	O
,	O
exploiting	O
clinical	O
knowledge	O
between	O
networks	O
of	O
modelling	O
teams	O
and	O
by	O
examining	O
the	O
distribution	O
of	O
the	O
linear	O
predictors	O
between	O
populations	O
[	O
39	O
].	O

In	O
many	O
practical	O
scenarios	O
,	O
the	O
variability	O
between	O
populations	O
will	O
be	O
low	O
;	O
thus	O
the	O
situations	O
of	O
σ	O
=	O
0	O
to	O
σ	O
=	O
0	O
.	O
375	O
in	O
the	O
current	O
study	O
likely	O
closely	O
represent	O
clinical	O
practice	O
.	O

If	O
the	O
size	O
of	O
the	O
local	O
data	O
is	O
<	O
10	O
%	O
of	O
that	O
the	O
existing	O
CPMs	O
were	O
derived	O
on	O
,	O
and	O
if	O
the	O
multiple	O
populations	O
share	O
clinically	O
similar	O
demographic	O
and	O
procedural	O
characteristics	O
,	O
then	O
we	O
recommend	O
aggregating	O
existing	O
models	O
.	O

Secondly	O
,	O
if	O
the	O
size	O
of	O
local	O
data	O
matches	O
or	O
exceeds	O
that	O
of	O
existing	O
model	O
derivations	O
,	O
then	O
deriving	O
a	O
new	O
CPM	O
could	O
be	O
appropriate	O
,	O
although	O
the	O
existing	O
CPMs	O
could	O
still	O
provide	O
useful	O
prior	O
information	O
about	O
likely	O
covariate	O
-	O
outcome	O
associations	O
.	O

Finally	O
,	O
in	O
all	O
other	O
circumstances	O
,	O
one	O
should	O
consider	O
either	O
aggregation	O
,	O
redevelopment	O
or	O
a	O
combination	O
of	O
the	O
two	O
[	O
18	O
].	O

Here	O
,	O
the	O
sample	O
sizes	O
relative	O
to	O
the	O
number	O
of	O
predictors	O
per	O
event	O
[	O
31	O
],	O
the	O
estimated	O
population	O
heterogeneity	O
,	O
the	O
quality	O
of	O
the	O
existing	O
CPMs	O
and	O
the	O
availability	O
of	O
variables	O
should	O
drive	O
the	O
chosen	O
method	O
.	O

Conclusions	O

Aggregating	O
existing	O
CPMs	O
is	O
beneficial	O
in	O
the	O
development	O
of	O
a	O
CPM	O
for	O
healthcare	O
predictions	O
in	O
defined	O
populations	O
.	O

In	O
the	O
majority	O
of	O
situations	O
,	O
modellers	O
should	O
consider	O
existing	O
CPMs	O
before	O
developing	O
models	O
anew	O
,	O
with	O
their	O
aggregation	O
potentially	O
providing	O
optimal	O
performance	O
given	O
low	O
sample	O
sizes	O
relative	O
to	O
that	O
of	O
previous	O
model	O
derivations	O
.	O

Deriving	O
a	O
new	O
CPM	O
independent	O
of	O
previous	O
research	O
was	O
only	O
recommended	O
in	O
the	O
unusual	O
situation	O
of	O
having	O
more	O
data	O
available	O
than	O
used	O
to	O
derive	O
existing	O
models	O
,	O
or	O
a	O
local	O
context	O
that	O
is	O
markedly	O
different	O
to	O
those	O
of	O
existing	O
CPMs	O
.	O

Details	O
of	O
the	O
Partial	O
Least	O
Squared	O
regression	O
methodology	O
,	O
additional	O
details	O
of	O
the	O
simulation	O
design	O
,	O
additional	O
tables	O
and	O
the	O
simulation	O
R	O
code	O
.	O

(	O
DOCX	O
49	O
kb	O
)	O

